BUILD="/Users/pratt/Library/Developer/Xcode/DerivedData/"

# Compile
cd /Users/pratt/src/tmp/XCodebuildTests/ProductName
/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -frontend \
  -c \
  -primary-file /Users/pratt/src/tmp/XCodebuildTests/ProductName/SwiftFile.swift \
  -target x86_64-apple-macosx10.10 \
  -enable-objc-interop \
  -sdk /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk \
  -I $BUILD/ProductName/Build/Products/Debug  \
  -F $BUILD/ProductName/Build/Products/Debug \
  -enable-testing \
  -g \
  -import-objc-header /Users/pratt/src/tmp/XCodebuildTests/ProductName/ProductNameBridging-Header.h \
  -module-cache-path /Users/pratt/Library/Developer/Xcode/DerivedData/ModuleCache \
  -serialize-debugging-options \
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/swift-overrides.hmap \
  -Xcc -iquote \
  -Xcc $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNamegenerated-files.hmap \
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameown-target-headers.hmap \
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameall-target-headers.hmap \
  -Xcc -iquote -Xcc $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameproject-headers.hmap
  -Xcc -I$BUILD/ProductName/Build/Products/Debug/include
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/DerivedSources/x86_64
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/DerivedSources
  -Xcc -DDEBUG=1
  -Xcc -working-directory/Users/pratt/src/tmp/XCodebuildTests/ProductName
  -emit-module-doc-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile~partial.swiftdoc
  -Onone
  -parse-as-library
  -module-name ProductName
  -emit-module-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile~partial.swiftmodule
  -serialize-diagnostics-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile.dia
  -emit-dependencies-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile.d
  -emit-reference-dependencies-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile.swiftdeps
  -o $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile.o


# Merge
/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift
  -frontend
  -emit-module $BUILD/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/SwiftFile~partial.swiftmodule
  -parse-as-library
  -target x86_64-apple-macosx10.10
  -enable-objc-interop
  -sdk /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk
  -I $BUILD/ProductName/Build/Products/Debug
  -F $BUILD/ProductName/Build/Products/Debug
  -enable-testing
  -g
  -import-objc-header /Users/pratt/src/tmp/XCodebuildTests/ProductName/ProductNameBridging-Header.h
  -module-cache-path /Users/pratt/Library/Developer/Xcode/DerivedData/ModuleCache
  -serialize-debugging-options
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/swift-overrides.hmap
  -Xcc -iquote -Xcc $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNamegenerated-files.hmap
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameown-target-headers.hmap
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameall-target-headers.hmap
  -Xcc -iquote -Xcc $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/ProductNameproject-headers.hmap
  -Xcc -I$BUILD/ProductName/Build/Products/Debug/include
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/DerivedSources/x86_64
  -Xcc -I$BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/DerivedSources
  -Xcc -DDEBUG=1
  -Xcc -working-directory/Users/pratt/src/tmp/XCodebuildTests/ProductName
  -emit-module-doc-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductName.swiftdoc
  -module-name ProductName
  -emit-objc-header-path $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductNameSwift.h
  -o $BUILD/ProductName/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductName.swiftmodule

# and Link
/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang \
  -arch x86_64 \
  -dynamiclib \
  -isysroot /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk \
  -L/Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Products/Debug \
  -F/Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Products/Debug \
  -filelist /Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductName.LinkFileList \
  -install_name /usr/local/lib/libProductName.dylib \
  -Xlinker -rpath \
  -Xlinker @executable_path/../Frameworks \
  -Xlinker -rpath \
  -Xlinker @loader_path/../Frameworks \
  -mmacosx-version-min=10.10 \
  -L/Applications/Xcode-beta.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift/macosx \
  -Xlinker \
  -add_ast_path \
  -Xlinker /Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductName.swiftmodule \
  -single_module \
  -compatibility_version 1 \
  -current_version 1 \
  -Xlinker \
  -dependency_info \
  -Xlinker /Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Intermediates/ProductName.build/Debug/ProductName.build/Objects-normal/x86_64/ProductName_dependency_info.dat \
  -o /Users/pratt/Library/Developer/Xcode/DerivedData/ProductName-fcyezzkdvoutjheizfmjcnzdjnrm/Build/Products/Debug/libProductName.dylib
